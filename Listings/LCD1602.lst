C51 COMPILER V9.54   LCD1602                                                               09/03/2025 14:28:40 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE LCD1602
OBJECT MODULE PLACED IN .\Objects\LCD1602.obj
COMPILER INVOKED BY: E:\Learning Programs\kiel5\C51\BIN\C51.EXE LCD1602.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PR
                    -INT(.\Listings\LCD1602.lst) OBJECT(.\Objects\LCD1602.obj)

line level    source

   1          #include <REGX52.H>
   2          #include <INTRINS.H>
   3          sbit LCD_RS=P2^6;
   4          sbit LCD_RW=P2^5;
   5          sbit LCD_E=P2^7;
   6          
   7          #define LCD_DataPort P0
   8          
   9          void LCD_Delay(){               //@11.0592MHz
  10   1              unsigned char i, j;
  11   1                      _nop_();
  12   1                      i = 2;
  13   1                      j = 199;
  14   1                      do
  15   1                      {
  16   2                              while (--j);
  17   2                      } while (--i);  
  18   1      }
  19          
  20          
  21          void LCD_WriteCommand(unsigned char Command){
  22   1              LCD_RS=0;
  23   1              LCD_RW=0;
  24   1              LCD_DataPort=Command;
  25   1              LCD_E=1;
  26   1              LCD_Delay();
  27   1              LCD_E=0;
  28   1              LCD_Delay();
  29   1      }
  30          
  31          void LCD_WriteData(unsigned char Data){
  32   1              LCD_RS=1;
  33   1              LCD_RW=0;
  34   1              LCD_DataPort=Data;
  35   1              LCD_E=1;
  36   1              LCD_Delay();
  37   1              LCD_E=0;
  38   1              LCD_Delay();
  39   1      }
  40          
  41          void LCD_Init(){
  42   1              LCD_WriteCommand(0x38);
  43   1              LCD_WriteCommand(0x0C);
  44   1              LCD_WriteCommand(0x06);
  45   1              LCD_WriteCommand(0x01);
  46   1      }
  47          
  48          void LCD_SetCursor(unsigned char Line,unsigned char Column){
  49   1              if(Line==1){
  50   2                      LCD_WriteCommand(0x80|(Column-1));
  51   2              }
  52   1              else{
  53   2                      LCD_WriteCommand(0x80|((Column-1)+0x40));       
  54   2              }
C51 COMPILER V9.54   LCD1602                                                               09/03/2025 14:28:40 PAGE 2   

  55   1      }
  56          
  57          void LCD_ShowChar(unsigned char Line,unsigned char Column,unsigned char Char){
  58   1              LCD_SetCursor(Line,Column);
  59   1              LCD_WriteData(Char);
  60   1      }
  61          
  62          void LCD_ShowString(unsigned char Line,unsigned char Column,unsigned char String[]){
  63   1              unsigned char i;
  64   1              LCD_SetCursor(Line,Column);
  65   1              for(i=0;String[i]!='\0';i++){
  66   2                      LCD_WriteData(String[i]);
  67   2              }       
  68   1      }
  69          
  70          int LCD_Pow(int X,int Y){
  71   1              unsigned char i;
  72   1              int Result=1;
  73   1              for(i=0;i<Y;i++){
  74   2                      Result*=X;
  75   2              }
  76   1              return Result;
  77   1      }
  78          
  79          LCD_ShowNum(unsigned char Line,unsigned char Column,unsigned int Number,unsigned char Lenth){
  80   1              unsigned char i;
  81   1              LCD_SetCursor(Line,Column);
  82   1              for(i=Lenth;i>0;i--){
  83   2                      LCD_WriteData(0x30+Number/LCD_Pow(10,i-1)%10);
  84   2              }
  85   1      }
  86          
  87          LCD_ShowSignedNum(unsigned char Line,unsigned char Column,int Number,unsigned char Lenth){
  88   1              unsigned char i;
  89   1              unsigned int Number1;
  90   1              LCD_SetCursor(Line,Column);
  91   1              if(Number>0){
  92   2                      LCD_WriteData('+');
  93   2                      Number1=Number;
  94   2                      
  95   2              }
  96   1              if(Number<0){
  97   2                      LCD_WriteData('-');
  98   2                      Number1=-Number;
  99   2              }
 100   1              for(i=Lenth;i>0;i--){
 101   2                      LCD_WriteData(0x30+Number1/LCD_Pow(10,i-1)%10);
 102   2              }
 103   1      }       
 104          
 105          void LCD_ShowHexNum(unsigned char Line,unsigned char Column,unsigned int Number,unsigned char Lenth){
 106   1              unsigned char i,SingleNumber;
 107   1              LCD_SetCursor(Line,Column);
 108   1              for(i=Lenth;i>0;i--){
 109   2                      SingleNumber=Number/LCD_Pow(16,i-1)%16;
 110   2                      if(SingleNumber<10){
 111   3                              LCD_WriteData('0'+SingleNumber);
 112   3                      }
 113   2                      else{
 114   3                              LCD_WriteData('A'+SingleNumber-10);
 115   3      
 116   3                      }
C51 COMPILER V9.54   LCD1602                                                               09/03/2025 14:28:40 PAGE 3   

 117   2              }       
 118   1      }
 119          
 120          void LCD_ShowBinNum(unsigned char Line,unsigned char Column,unsigned int Number,unsigned char Lenth){
 121   1              unsigned char i;
 122   1              LCD_SetCursor(Line,Column);
 123   1              for(i=Lenth;i>0;i--){
 124   2                      LCD_WriteData(0x30+Number/LCD_Pow(2,i-1)%2);
 125   2              }
 126   1      
 127   1      }
*** WARNING C290 IN LINE 85 OF LCD1602.c: missing return value
*** WARNING C290 IN LINE 103 OF LCD1602.c: missing return value


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    397    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      29
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
